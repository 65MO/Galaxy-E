<tool id="stoc2" name="STOCeps2" version="1.0">
    
    <description>Création des fichiers des variations annuelles par groupe de spécialiste et de la tendance globale par groupe de spécialiste.</description>
    
    <requirements>
        <requirement type="package">r</requirement>
        <requirement type="package">r-r.methodss3 </requirement>
        <requirement type="package">r-arm</requirement>
    </requirements>

    <stdio>
        <exit_code range="1:" />
    </stdio>
    
    <command>
        <![CDATA[
        $__tool_directory__/STOCeps2.R ${variationsAnnuelles} ${variationsGlobales} $__tool_directory__/Librairie ;
        mv tendancesAnnuellesGroupes.tsv output1 ;
        mv tendancesGlobalesGroupes.tsv output2 ;
        mv donneesGroupes.tsv output3 ;
        ]]>
    </command>

    <inputs>	

		<param name="variationsAnnuelles" type="data" format="tabular" label="Variations annuelles par espèce" help="Variations annuelles par espèce issue de l'outils STOCeps (données STOC)" />
        <param name="variationsGlobales" type="data" format="tabular" label="Variations globales par espèce" help="Variations globales par espèce issue de l'outils STOCeps (données STOC)" />

    </inputs>



    <outputs>
        <data format="tabular" name="output1" label="tendancesAnnuellesGroupes_${variationsAnnuelles.element_identifier}" from_work_dir="./output1"/>
        <data format="tabular" name="output2" label="tendancesGlobalesGroupes_${variationsGlobales.element_identifier}" from_work_dir="./output2"/>
        <data format="tabular" name="output3" label="summaryGroupes" from_work_dir="./output3"/>
	</outputs>

    <tests>
        <test>
            <param name="variationsAnnuelles" value="variationsAnnuellesEspece.tsv"/>
            <param name="variationsGlobales" value="tendanceGlobalEspece.tsv"/>
            <output name="output3" value="donneesGroupes.tsv" >
                
            </output>
        </test>
    </tests>

    <help>
**L'outil permet de générer deux jeux de données :**

le fichier des variations annuelles par espèce :
 * Ce fichier contient les sorties et ses interprétations du modèle statistique (glm variations d'abondances en fonction du carré et de l'année) qui permet de voir les variations inter-annuelles d'abondance des populations d'oiseaux pour chaque espèce. Ces grâce à ses valeurs que les représentations graphiques sont réalisés.

le fichier de la tendance globale par espèce : 
 * Ce fichier contient les sorties et ses interprétations du modèle statistique qui permet d'avoir la tendance globale de la variation d'abondance sur l'ensemble de la période de temps de l'espèce considérée. Le modèle utilisé est le même que pour les variations inter-annuelles, mais utilise les années comme une variable continue.
    </help>

    <citations>
    </citations>


</tool>